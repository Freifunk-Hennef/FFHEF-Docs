Server und IP-Adressen
======================

Übersicht
---------

.. nwdiag::
   :desctable:
   :align: left
   :scale: 50

    nwdiag {
      network Internet {
          srv01 [ address = "46.38.236.237", description = "Netcup vServer" ];
          srv02 [ address = "37.221.194.208", description = "Netcup vServer" ];
          srv03 [ address = "176.9.38.45", description = "Virtual Machine Host bei Hetzner" ];
      }

      network vmbr0 {
          address = "10.10.0.0/24";

          srv03 [ address = "10.10.0.1, 2a01:4f8:150:4426::2" ];
          gateway01 [ address = "10.10.0.10, ::1000:1000", description = "Gateway zum FFRL a" ];
          gateway02 [ address = "10.10.0.11, ::1000:1001", description = "Gateway zum FFRL b" ];
          supernode01 [ address = "10.10.0.20, ::1000:2000", description = "Fastd Endpunkt Port 53773" ];
          supernode02 [ address = "10.10.0.21, ::1000:2001", description = "Fastd Endpunkt Port 10000" ];
          web01 [ address = "10.10.0.50, ::1000:5000", description = "Webserver für statische Inhalte" ];
          git01 [ address = "10.10.0.51, ::1000:5001", description = "Gogs für git.freifunk-hennef.de" ];
          ci01 [ address = "10.10.0.52, ::1000:5002", description = "Drone.io für ci.freifunk-hennef.de" ];
      }

      network Mesh {
          address = "10.186.0.0/16";
          supernode01 [ address = "10.186.8.20" ];
          supernode02 [ address = "10.186.8.21" ];
      }

    }

Netze
-----

+----------------+----------------------------+
| Mesh IPv4      | 10.186.0.0/16              |
+----------------+----------------------------+
| Mesh IPv6      | fda0:747e:ab29:7406::/64   |
+----------------+----------------------------+
| VM Bridge IPv4 | 10.10.0.0/24               |
+----------------+----------------------------+

IP-Adressbereiche
-----------------

+-----------------------+------------------+------------------------+------------------+
| Beschreibung          | IPv4 vmbr0       | Mesh IPv4              | Public/Mesh IPv6 |
+=======================+==================+========================+==================+
| Gateways              | 10.10.0.10 - .19 |                        | ::1000:1000      |
+-----------------------+------------------+------------------------+------------------+
| Supernodes            | 10.10.0.20 - .29 | 10.186.8.20 - .29      | ::1000:2000      |
+-----------------------+------------------+------------------------+------------------+
| Services (öffentlich) | 10.10.0.30 - .49 | 10.186.8.30 - .49      | ::1000:3000      |
+-----------------------+------------------+------------------------+------------------+
| Services (intern)     | 10.10.0.50 - .69 | 10.186.8.50 - .69      | ::1000:5000      |
+-----------------------+------------------+------------------------+------------------+
| Clients               |                  | 10.186.16.1 - .143.254 | ?                |
+-----------------------+------------------+------------------------+------------------+

Server
------

+---------------------+------------------------------+--------------------------+-----------------+-------------------------+
| Host                | DNS                          | Name                     | Public IPv4     | Public IPv6             |
+=====================+==============================+==========================+=================+=========================+
| Netcup vServer      | srv01.freifunk-hennef.de     | v22015082981327390       | 46.38.236.237   | 2a03:4000:2:ae::/64     |
+---------------------+------------------------------+--------------------------+-----------------+-------------------------+
| Hetzner RootServer  | srv03.freifunk-hennef.de     | srv03.freifunk-hennef.de | 176.9.38.45     | 2a01:4f8:150:4426::2/64 |
|                     |                              |                          +-----------------+                         |
|                     |                              |                          | 176.9.38.59     |                         |
+                     +------------------------------+--------------------------+-----------------+-------------------------+
|                     | srv04.freifunk-hennef.de     | srv04.freifunk-hennef.de | 136.243.69.210  | 2a01:4f8:212:23d0::2/64 |
|                     |                              |                          +-----------------+                         |
|                     |                              |                          | 136.243.69.250  |                         |
+---------------------+------------------------------+--------------------------+-----------------+-------------------------+


Dienste
-------

+-------------------------+-------------------------------+
| Name                    | DNS                           |
+=========================+===============================+
| Mapserver               | map.freifunk-hennef.de        |
+-------------------------+-------------------------------+
| Dokumentation           | docs.freifunk-hennef.de       |
+-------------------------+-------------------------------+
| Git                     | git.freifunk-hennef.de        |
+-------------------------+-------------------------------+
| Firmware Images         | images.freifunk-hennef.de     |
+-------------------------+-------------------------------+
| Monitoring              | monitoring.freifunk-hennef.de |
+-------------------------+-------------------------------+
| Hopglass Map            | hopglass.freifunk-hennef.de   |
+-------------------------+-------------------------------+
| Services (Wetter, etc.) | services.freifunk-hennef.de   |
+-------------------------+-------------------------------+
| Nextcloud               | nextcloud.freifunk-hennef.de  |
+-------------------------+-------------------------------+
| Collabora               | collabora.freifunk-hennef.de  |
+-------------------------+-------------------------------+
| Blackhole               | blackhole.freifunk-hennef.de  |
+-------------------------+-------------------------------+
| Forum                   | forum.freifunk-hennef.de      |
+-------------------------+-------------------------------+

Services (öffentlich/intern)
----------------------------

+---------------+------------------------------+-----------------------------------------+
| IPv4          | IPv6                         | Name                                    |
+===============+==============================+=========================================+
| 10.10.0.30    | 2a01:4f8:150:4426::1000:3000 | Container: services.freifunk-hennef.de  |
+---------------+------------------------------+-----------------------------------------+
| 10.10.0.31    | 2a01:4f8:150:4426::1000:3001 | Container: nextcloud.freifunk-hennef.de |
+---------------+------------------------------+-----------------------------------------+
| 10.10.0.32    | 2a01:4f8:150:4426::1000:3002 | Container: collabora.freifunk-hennef.de |
+---------------+------------------------------+-----------------------------------------+
| 10.186.8.50   | 2a01:4f8:150:4426::1000:5000 | Wetterstation Buchlichter               |
+---------------+------------------------------+-----------------------------------------+
| 10.186.8.51   |                              | Raspberry Pi für Pong                   |
+---------------+------------------------------+-----------------------------------------+
| 10.186.8.61   | 2a01:4f8:150:4426::1000:6001 | LoRaWAN Gateway Hennef 01               |
+---------------+------------------------------+-----------------------------------------+

Supernodes
----------

===== ================================  ====== ============== ============================== ============= ===========  ============================== =================================================================
Host  DNS                               Port   Public IPv4    Public IPv6                    Mesh IPv4     Mesh IPv6    DHCP Bereich                   Public Key
===== ================================  ====== ============== ============================== ============= ===========  ============================== =================================================================
srv03 supernode01.freifunk-hennef.de    53773  176.9.38.45    2a01:4f8:150:4426::1000:2000   10.186.8.20                10.186.16.0/20                 7ea2473e010339151734ec851b13f8d32d9d50c4d1dd772112109004cd50b817
srv03 supernode02.freifunk-hennef.de    10000  176.9.38.45    2a01:4f8:150:4426::1000:2001   10.186.8.21                10.186.24.0/20                 8f73ca259097267c442648f0a1aee77600ea8eb6b482c05c1c6bce8f6c198a3e
srv04 supernode03.freifunk-hennef.de    53773  136.243.69.210 2a01:4f8:212:23d0::1000:2002   10.186.8.22                10.186.32.0/20
srv04 supernode04.freifunk-hennef.de    10000  136.243.69.210 2a01:4f8:212:23d0::1000:2003   10.186.8.23                10.186.40.0/20
srv03 supernode05.freifunk-hennef.de    53773  176.9.38.59    2a01:4f8:150:4426::1000:2004   10.186.8.24                10.186.48.0/20                 ac677de34aa9bb3543a69966ceaa87c45837d59c2b5c4bae787b441df2d62ab3
srv03 supernode06.freifunk-hennef.de    10000  176.9.38.59    2a01:4f8:150:4426::1000:2005   10.186.8.25                10.186.56.0/20                 feb629412cc0a4009abbed2347bf86f26d28c1925869ca636da9afee0ab058d9
srv04 supernode07.freifunk-hennef.de    53773  136.243.69.250 2a01:4f8:212:23d0::1000:2006   10.186.8.26                10.186.64.0/20
srv04 supernode08.freifunk-hennef.de    10000  136.243.69.250 2a01:4f8:212:23d0::1000:2007   10.186.8.27                10.186.72.0/20
FFRL  0.wupper.ffrl.de                  53773  151.80.64.176  2001:41d0:c:95c::176           10.186.0.240               10.186.224.1 - 10.186.255.254
FFRL  1.wupper.ffrl.de                  53773                                                10.186.0.241               "
FFRL  2.wupper.ffrl.de                  53773                                                10.186.0.242               "
FFRL  3.wupper.ffrl.de                  53773                                                10.186.0.243               "
FFRL  4.wupper.ffrl.de                  53773                                                10.186.0.244               "
FFRL  5.wupper.ffrl.de                  53773                                                10.186.0.245               "
FFRL  6.wupper.ffrl.de                  53773                                                10.186.0.246               "
FFRL  7.wupper.ffrl.de                  53773                                                10.186.0.247               "
FFRL  8.wupper.ffrl.de                  53773                                                10.186.0.248               "
FFRL  9.wupper.ffrl.de                  53773                                                10.186.0.249               "
===== ================================  ====== ============== ============================== ============= ===========  ============================== =================================================================
